(()=>{"use strict";var e={6262:(e,n)=>{n.A=(e,n)=>{const t=e.__vccOpts||e;for(const[e,r]of n)t[e]=r;return t}}},n={};const t=Vue;function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",u=t.toStringTag||"@@toStringTag";function c(t,r,o,u){var c=r&&r.prototype instanceof f?r:f,s=Object.create(c.prototype);return i(s,"_invoke",function(t,r,i){var o,u,c,f=0,s=i||[],l=!1,d={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(n,t){return o=n,u=0,c=e,d.n=t,a}};function v(t,r){for(u=t,c=r,n=0;!l&&f&&!i&&n<s.length;n++){var i,o=s[n],v=d.p,p=o[2];t>3?(i=p===r)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=v&&((i=t<2&&v<o[1])?(u=0,d.v=r,d.n=o[1]):v<p&&(i=t<3||o[0]>r||r>p)&&(o[4]=t,o[5]=r,d.n=p,u=0))}if(i||t>1)return a;throw l=!0,r}return function(i,s,p){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,p),u=s,c=p;(n=u<2?e:c)||!l;){o||(u?u<3?(u>1&&(d.n=-1),v(u,c)):d.n=c:d.v=c);try{if(f=2,o){if(u||(i="next"),n=o[i]){if(!(n=n.call(o,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=o.return)&&n.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=e}else if((n=(l=d.n<0)?c:t.call(r,d))!==a)break}catch(n){o=e,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(t,o,u),!0),s}var a={};function f(){}function s(){}function l(){}n=Object.getPrototypeOf;var d=[][o]?n(n([][o]())):(i(n={},o,function(){return this}),n),v=l.prototype=f.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,i(e,u,"GeneratorFunction")),e.prototype=Object.create(v),e}return s.prototype=l,i(v,"constructor",l),i(l,"constructor",s),s.displayName="GeneratorFunction",i(l,u,"GeneratorFunction"),i(v),i(v,u,"Generator"),i(v,o,function(){return this}),i(v,"toString",function(){return"[object Generator]"}),(r=function(){return{w:c,m:p}})()}function i(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,n,t,r){function u(n,t){i(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(u("next",0),u("throw",1),u("return",2))},i(e,n,t,r)}function o(e,n,t,r,i,o,u){try{var c=e[o](u),a=c.value}catch(e){return void t(e)}c.done?n(a):Promise.resolve(a).then(r,i)}function u(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var u=e.apply(n,t);function c(e){o(u,r,i,c,a,"next",e)}function a(e){o(u,r,i,c,a,"throw",e)}c(void 0)})}}const c={props:{id:{type:String,default:function(){return null},required:!0},verifyUrl:{type:String,default:function(){return null},required:!0},activateLicenseUrl:{type:String,default:function(){return null},required:!0},deactivateLicenseUrl:{type:String,default:function(){return null},required:!0},resetLicenseUrl:{type:String,default:function(){return null},required:!0}},data:function(){return{initialized:null,loading:!0,verified:!1,license:null}},mounted:function(){this.verifyLicense()},methods:{verifyLicense:function(){var e=this;return u(r().m(function n(){return r().w(function(n){for(;;)if(0===n.n)return n.a(2,$httpClient.makeWithoutErrorHandler().get(e.verifyUrl).then(function(n){var t=n.data;e.verified=!0,e.license=t.data}).catch(function(e){400===e.response.status&&Botble.showError(e.response.data.message)}).finally(function(){e.initialized=!0,e.loading=!1}))},n)}))()},onSubmit:function(){var e=this;return u(r().m(function n(){var t;return r().w(function(n){for(;;)if(0===n.n)return t=new FormData(e.$refs.formRef),n.a(2,e.doActivateLicense(t))},n)}))()},resetLicense:function(){var e=this;return u(r().m(function n(){var t;return r().w(function(n){for(;;)if(0===n.n)return t=new FormData(e.$refs.formRef),n.a(2,e.doResetLicense(t))},n)}))()},deactivateLicense:function(){var e=this;return u(r().m(function n(){return r().w(function(n){for(;;)if(0===n.n)return e.loading=!0,n.a(2,$httpClient.make().post(e.deactivateLicenseUrl).then(function(){e.verified=!1}).finally(function(){e.loading=!1}))},n)}))()},doActivateLicense:function(e){var n=this;return u(r().m(function t(){return r().w(function(t){for(;;)if(0===t.n)return n.loading=!0,t.a(2,$httpClient.make().postForm(n.activateLicenseUrl,e).then(function(e){var t=e.data;n.verified=!0,n.license=t.data,Botble.showSuccess(t.message)}).finally(function(){n.loading=!1}))},t)}))()},doResetLicense:function(e){var n=this;return u(r().m(function t(){return r().w(function(t){for(;;)if(0===t.n)return n.loading=!0,t.a(2,$httpClient.make().postForm(n.resetLicenseUrl,e).then(function(e){var t=e.data;n.verified=!1,Botble.showSuccess(t.message)}).finally(function(){n.loading=!1}))},t)}))()}}};var a=function t(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}(6262);const f=(0,a.A)(c,[["render",function(e,n,r,i,o,u){return(0,t.openBlock)(),(0,t.createElementBlock)("form",{id:"license-form",ref:"formRef",onSubmit:n[0]||(n[0]=(0,t.withModifiers)(function(){return u.onSubmit&&u.onSubmit.apply(u,arguments)},["prevent"]))},[(0,t.renderSlot)(e.$slots,"default",(0,t.normalizeProps)((0,t.guardReactiveProps)({initialized:o.initialized,loading:o.loading,verified:o.verified,license:o.license,deactivateLicense:u.deactivateLicense,resetLicense:u.resetLicense})))],544)}]]);"undefined"!=typeof vueApp&&vueApp.booting(function(e){e.component("v-license-form",f)})})();